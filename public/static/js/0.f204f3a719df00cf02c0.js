(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(30),i=n(14),c=(n(63),n.p+"static/img/pokemon_80x80.png"),u=n(26),s=Object(u.b)((function(e){return{pokemonId:e.pokemon.result.id}}))((function(e){var t=e.pokemonId;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header--wrapper"},a.a.createElement("div",{className:"header--title"},a.a.createElement("p",null,"P",a.a.createElement("img",{alt:"",src:c}),"kemon"),a.a.createElement("p",null,"store")),a.a.createElement("ul",{className:"navbar"},a.a.createElement("li",{className:"navbar--item"},a.a.createElement(o.b,{className:"navbar--item__link",to:i.a.HOME},"Home")),a.a.createElement("li",{className:"navbar--item"},a.a.createElement(o.b,{className:"navbar--item__link",to:i.a.VIEW_POKEMON_ID.replace(":id",t)},"View Pokemon")),a.a.createElement("li",{className:"navbar--item"},a.a.createElement(o.b,{className:"navbar--item__link",to:i.a.POKEMON_TYPES},"Types")))),a.a.createElement("div",{className:"custom-shape-divider-top-1600437539"},a.a.createElement("svg",{"data-name":"Layer 1",preserveAspectRatio:"none",viewBox:"0 0 1200 120",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{className:"shape-fill",d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"}))))}));function l(){return a.a.createElement("div",{className:"footer--wrapper"},a.a.createElement("div",{className:"custom-shape-divider-top-1600450920"},a.a.createElement("svg",{"data-name":"Layer 1",preserveAspectRatio:"none",viewBox:"0 0 1200 120",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{className:"shape-fill",d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z"}))),a.a.createElement("div",{className:"footer--content"},a.a.createElement("p",null,"Â© Copyrights 2020")))}n(64),n(65),t.a=function(e){var t=e.children;return a.a.createElement("div",{className:"app--wrapper"},a.a.createElement(s,null),a.a.createElement("div",{className:"app--wrapper__content"},t),a.a.createElement(l,null))}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(32),a=n.n(r),o=n(13),i=n.n(o),c=n(27),u=n.n(c),s=Object.freeze({BASE_URL:"https://pokeapi.co/api/v2",POKEMONS:"/pokemon",POKEMONS_PARAMS:"/pokemon?limit=:limit&offset=:offset",POKEMONS_ID:"/pokemon/:id",POKEMON_NAME:"/pokemon/:name",TYPES:"/type",TYPES_ID:"/type/:id"}),l=function(){function e(){i()(this,e)}return u()(e,null,[{key:"get",value:function(e,t){var n=s.BASE_URL+e;return t&&(n+=Object.keys(t).reduce((function(e,n,r){return r&&(e+="&"),e+n+"="+t[n]}),"?")),fetch(n).then((function(e){return e.json()})).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"getPokemons",value:function(t){return e.get(s.POKEMONS_PARAMS.replace(":limit",t.limit).replace(":offset",t.offset)).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"getPokemonsByTypes",value:function(t){return console.log("filter list",t),Promise.all(t.map((function(t){return e.get(s.TYPES_ID.replace(":id",t))}))).then((function(e){return Promise.resolve(e.reduce((function(e,t){return[].concat(a()(e),a()(t.pokemon))}),[]))})).catch((function(e){return Promise.reject(e)}))}},{key:"getPokemonById",value:function(t){return e.get(s.POKEMONS_ID.replace(":id",t)).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"getByUrl",value:function(t){return e.get(t.replace(s.BASE_URL,"")).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"getTypes",value:function(){return e.get(s.TYPES).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}}]),e}()},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(12),a=function(e){return{type:r.a.SET_POKEMON,data:e}},o=function(e){return{type:r.a.SET_POKEMON_ID,id:e}},i=function(e){return{type:r.a.SET_POKEMON_ERROR,error:e}},c=function(){return{type:r.a.IS_LOADING}},u=function(){return{type:r.a.INIT_LOADING}}},68:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(10),a=function(e){return{type:r.a.SET_PAGINATION,pagination:e}},o=function(e){return{type:r.a.SET_POKEMONS,pokemons:e}},i=function(){return{type:r.a.IS_LOADING}},c=function(e){return{type:r.a.SET_ERROR,error:e}},u=function(e,t){return{type:r.a.ADD_FILTER,id:t,attr:e}},s=function(e,t){return{type:r.a.REMOVE_FILTER,attr:e,id:t}},l=function(){return{type:r.a.INIT_FILTERS}}},69:function(e,t,n){"use strict";(function(e){var r=n(58),a=n.n(r),o=n(59),i=n.n(o),c=n(13),u=n.n(c),s=n(27),l=n.n(s),f=n(16),p=n.n(f),m=n(28),h=n.n(m),d=n(29),v=n.n(d),g=n(20),y=n.n(g),E=n(3),P=n.n(E),k=n(0),b=n.n(k),_=(n(71),n(61)),O=n(26),N=n(68),w=n(34),S=n(72);var R=function(t){h()(o,t);var n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,a=y()(e);return r=t?(n=y()(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments),v()(this,r)}}(o);function o(){var t;u()(this,o);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),P()(p()(t),"_inputRef",void 0),P()(p()(t),"_filterOptions",void 0),P()(p()(t),"state",{options:[],showOptions:!1,dropDownClicked:!1}),P()(p()(t),"handleChange",(function(e){t.setState({showOptions:!0,options:t._filterOptions.filter((function(e){return e.includes(t._inputRef.value)}))})})),P()(p()(t),"handleSelectOption",function(){var n=i()(a.a.mark((function n(r){var o,i,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t.props,i=o.addFilter,c=o.handleFilterChange,i(w.a.TYPES,r),e.nextTick((function(){return c()})),t._inputRef.value="",t.setState({options:t._filterOptions});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),P()(p()(t),"handleRemoveFilter",(function(n){var r=t.props,a=r.removeFilter,o=r.handleFilterChange;a(w.a.TYPES,n),e.nextTick((function(){return o()}))})),P()(p()(t),"handleFocus",(function(e){t.setState({showOptions:!0})})),P()(p()(t),"handleBlur",(function(e){setTimeout((function(){t.setState({showOptions:!1})}),100)})),t}return l()(o,[{key:"componentDidMount",value:(n=i()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFilterList();case 2:t=e.sent,this._filterOptions=t.map((function(e){return e.name})),this.setState({options:this._filterOptions});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.initFilters()}},{key:"getFilterList",value:function(){return _.a.getTypes().then((function(e){return Promise.resolve(e.results)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.showOptions,r=t.options,a=this.props.filters;return b.a.createElement("div",{className:"searchbar--wrapper"},b.a.createElement("img",{alt:"",className:"searchbar--wrapper__icon",src:S.a}),Boolean(a.length)&&b.a.createElement("div",{className:"searchbar--wrapper__filters"},a.map((function(t,n){return b.a.createElement("p",{key:n},t," | ",b.a.createElement("span",{onClick:function(){return e.handleRemoveFilter(t)}},"x"))}))),b.a.createElement("input",{className:"searchbar--wrapper__input",onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,ref:function(t){return e._inputRef=t},type:"text"}),n&&b.a.createElement("section",{className:"searchbar--wrapper__dropdown"},b.a.createElement("ul",{className:"dropdown--options"},r.map((function(t,n){return b.a.createElement("li",{className:"dropdown--options__item",key:n},b.a.createElement("div",{className:"dropdown--options__item--button",onClick:function(){return e.handleSelectOption(t)}},t))})))))}}]),o}(b.a.PureComponent);t.a=Object(O.b)((function(e){return{filters:e.filters[w.a.TYPES]}}),(function(e){return{addFilter:function(t,n){e(Object(N.a)(t,n))},removeFilter:function(t,n){e(Object(N.c)(t,n))},initFilters:function(){e(Object(N.b)())}}}))(R)}).call(this,n(70))},71:function(e,t,n){},72:function(e,t,n){"use strict";t.a=n.p+"static/img/loupe.png"},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(60);t.default=function(){return a.a.createElement(o.a,null,a.a.createElement("div",null,a.a.createElement("p",null,"Whoops..."),"Page not found"))}},82:function(e,t,n){"use strict";n.r(t);var r=n(66),a=n.n(r),o=n(58),i=n.n(o),c=n(59),u=n.n(c),s=n(13),l=n.n(s),f=n(27),p=n.n(f),m=n(16),h=n.n(m),d=n(28),v=n.n(d),g=n(29),y=n.n(g),E=n(20),P=n.n(E),k=n(3),b=n.n(k),_=n(0),O=n.n(_),N=n(26),w=n(60),S=n(31),R=n(61),C=n(68),I=n(69),T=n(73),j=n.n(T),x=(n(74),n(37));var A=function(e){v()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,a=P()(e);return r=t?(n=P()(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments),y()(this,r)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.handlePageChange;return O.a.createElement(x.a,null,(function(e){var r=e.isMobile;return O.a.createElement(j.a,{activeClassName:"pagination--active",breakClassName:"pagination--break-me",breakLabel:"...",containerClassName:"pagination",marginPagesDisplayed:2,nextClassName:"pagination--forward",nextLabel:"Next",onPageChange:n,pageClassName:"pagination--page",pageCount:t,pageRangeDisplayed:r?1:4,previousClassName:"pagination--forward",previousLabel:"Previous",subContainerClassName:"pagination--sub"})}))}}]),n}(O.a.PureComponent),D=Object(N.b)((function(e){return{total:e.pagination.totalPages}}))(A),F=n(14),M=(n(75),n(67)),L=n(4),B=n(30);var K=function(e){v()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,a=P()(e);return r=t?(n=P()(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments),y()(this,r)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),b()(h()(e),"state",{toViewPokemon:!1}),b()(h()(e),"handleCardClick",(function(t){var n=e.props,r=n.id;(0,n.setPokemonId)(r),e.setState({toViewPokemon:!0})})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.height,r=e.weight,a=e.base_experience,o=e.picture,i=e.id;return this.state.toViewPokemon?O.a.createElement(L.a,{to:F.a.VIEW_POKEMON_ID.replace(":id",i)}):O.a.createElement(B.b,{className:"pokemon--card",to:F.a.VIEW_POKEMON_ID.replace(":id",i)},O.a.createElement("img",{alt:"",className:"pokemon--card__logo",src:o}),O.a.createElement("div",{className:"pokemon--card__content"},O.a.createElement("div",null,t),O.a.createElement("div",{className:"pokemon--card__content--infos"},O.a.createElement("p",null,"Height, ",O.a.createElement("br",null),O.a.createElement("span",null,n)),O.a.createElement("p",null,"Weight, ",O.a.createElement("br",null),O.a.createElement("span",null,r)),O.a.createElement("p",null,"Exp, ",O.a.createElement("br",null),O.a.createElement("span",null,a)))))}}]),n}(O.a.PureComponent),V=Object(N.b)(null,(function(e){return{setPokemonId:function(t){e(Object(M.d)(t))}}}))(K),Y=n(5),U=n(34);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(76);var W=function(e){v()(r,e);var t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,a=P()(e);return r=t?(n=P()(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments),y()(this,r)}}(r);function r(){var e;l()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),b()(h()(e),"state",{filteredPokemons:[]}),b()(h()(e),"handlePageChange",function(){var t=u()(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.getPokemons,t.next=3,r(n.selected+1);case 3:e.handleFilterChange();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),b()(h()(e),"handleFilterChange",(function(){var t=e.props.filters;t.length?e.setState({filteredPokemons:e.getFilteredPokemons(t)}):e.setState({filteredPokemons:e.props.pokemons.result})})),e}return p()(r,[{key:"componentDidMount",value:(t=u()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.getPokemons,e.next=3,t(this.props.pagination.currentPage);case 3:console.log("pokemons results",this.props.pokemons),this.setState({filteredPokemons:this.props.pokemons.result});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFilteredPokemons",value:function(e){return this.props.pokemons.result.filter((function(t){var n,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(t.types.map((function(e){return e.type&&e.type.name})).filter((function(e){return!!e})));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.includes(a))return!0}}catch(t){r.e(t)}finally{r.f()}return!1}))}},{key:"render",value:function(){var e=this.props.pokemons,t=this.state.filteredPokemons;return O.a.createElement(w.a,null,O.a.createElement(S.a,null,O.a.createElement("title",null,"Home")),O.a.createElement("div",{className:"pokemons--container"},O.a.createElement(I.a,{handleFilterChange:this.handleFilterChange}),O.a.createElement("div",{className:"pokemons--listing"},e.loadingStatus===Y.a.LOADING?"loading...":t.map((function(e,t){return O.a.createElement(V,a()({key:t},e))})))),O.a.createElement(D,{handlePageChange:this.handlePageChange}))}}]),r}(O.a.PureComponent);t.default=Object(N.b)((function(e){return{pokemons:e.pokemons,pagination:e.pagination,filters:e.filters[U.a.TYPES]}}),(function(e){return{getPokemons:function(t){return e(Object(C.g)()),R.a.getPokemons({limit:20,offset:20*(t-1)}).then((function(n){e(Object(C.d)({currentPage:t,totalPages:parseInt(n.count/20)+1}));var r=n.results.filter((function(e){return!!e.url})).map((function(e){return R.a.getByUrl(e.url)}));return Promise.all(r).then((function(t){e(Object(C.e)(t.filter((function(e){return!!e})).map((function(e){return{id:e.id,name:e.name,height:e.height,weight:e.weight,base_experience:e.base_experience,picture:e.sprites.front_default,types:e.types}}))))})).catch((function(t){return e(Object(C.f)(t))})).finally((function(){return Promise.resolve()}))})).catch((function(t){e(Object(C.f)(t))})).finally((function(){return Promise.resolve()}))},getPokemonsByTypes:function(t){return e(Object(C.g)()),R.a.getPokemonsByTypes(t).then((function(e){console.log("filter pokemons",e)})).catch((function(t){return e(Object(C.f)(t))})).finally((function(){return Promise.resolve()}))}}}))(W)}}]);